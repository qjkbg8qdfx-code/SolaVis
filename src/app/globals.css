@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    --font-inter: 'Inter', sans-serif;
}

@layer base {
    body {
        @apply bg-ios-bg text-ios-text antialiased selection:bg-ios-blue selection:text-white dark:bg-slate-950 dark:text-slate-100;
    }
}

@layer components {

    /* iOS Button Style - Enhanced with Gradient Hover */
    .btn-primary {
        @apply rounded-full bg-ios-text px-6 py-3 text-[15px] font-medium text-white shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-xl active:scale-95;
        background-image: linear-gradient(135deg, #1D1D1F 0%, #1D1D1F 100%);
    }

    .btn-primary:hover {
        background-image: linear-gradient(135deg, #0071E3 0%, #8B5CF6 100%);
    }

    .btn-secondary {
        @apply rounded-full border border-ios-divider bg-white px-6 py-3 text-[15px] font-medium text-ios-blue transition-all duration-300 hover:bg-gray-50 active:scale-95;
    }

    /* iOS Card Style - Enhanced Dark Mode Depth */
    .card-ios {
        @apply rounded-3xl border border-white/50 bg-white p-8 shadow-ios transition-all duration-500 ease-out hover:shadow-ios-hover 
               dark:border-white/10 dark:bg-slate-900 dark:ring-1 dark:ring-white/5 dark:shadow-lg;
    }

    /* Glassmorphism Utility - Enhanced contrast for outdoor readability */
    .glass-panel {
        @apply border border-indigo-100/30 bg-surface-glass shadow-sm backdrop-blur-xl backdrop-saturate-150 
               supports-[backdrop-filter]:bg-surface-glass 
               dark:border-white/10 dark:bg-slate-800/50 dark:supports-[backdrop-filter]:bg-slate-800/50;
    }

    /* Text Styles */
    .text-hero {
        @apply text-5xl font-semibold tracking-tight text-ios-text md:text-7xl;
    }

    .text-sub {
        @apply text-xl font-normal leading-relaxed text-ios-subtext md:text-2xl dark:text-slate-300;
    }
}

/* Smooth Scrolling & System UI Theme */
html {
    scroll-behavior: smooth;
    color-scheme: light dark;
}

/* Fix Browser Autofill Styles - Prevents ugly yellow/blue backgrounds in Dark Mode */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active,
textarea:-webkit-autofill,
select:-webkit-autofill {
    /* Light mode: subtle gray background */
    -webkit-box-shadow: 0 0 0 1000px #f9fafb inset !important;
    -webkit-text-fill-color: #111827 !important;
    caret-color: #111827 !important;
    transition: background-color 5000s ease-in-out 0s;
}

@media (prefers-color-scheme: dark) {

    input:-webkit-autofill,
    input:-webkit-autofill:hover,
    input:-webkit-autofill:focus,
    input:-webkit-autofill:active,
    textarea:-webkit-autofill,
    select:-webkit-autofill {
        /* Dark mode: slate background matching our theme */
        -webkit-box-shadow: 0 0 0 1000px #0f172a inset !important;
        -webkit-text-fill-color: #f1f5f9 !important;
        caret-color: #f1f5f9 !important;
    }
}

/* Animation Keyframes - Respects reduced motion preference */
@media (prefers-reduced-motion: no-preference) {
    @keyframes fade-in-up {
        0% {
            opacity: 0;
            transform: translateY(20px);
        }

        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fade-in {
        0% {
            opacity: 0;
        }

        100% {
            opacity: 1;
        }
    }

    .animate-fade-in-up {
        animation: fade-in-up 0.6s ease-out forwards;
    }

    .animate-fade-in {
        animation: fade-in 0.3s ease-out forwards;
    }
}

/* Fallback for reduced motion - show content immediately */
@media (prefers-reduced-motion: reduce) {

    .animate-fade-in-up,
    .animate-fade-in {
        animation: none;
        opacity: 1;
        transform: none;
    }

    /* Disable all other animations */
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}